"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,window,document)}):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t(require("jquery"),window,document):t(jQuery,window,document)}(function(t,e,i){var s,o,n,l,r,h,c,a,p,d,u,f,g,v,S,m,y,T,b,w,x,$,C,H,O,A,E,Y;w={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",enabledClass:"has-scrollbar",flashedClass:"flashed",activeClass:"active",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},S="scroll",c="mousedown",a="mouseenter",p="mousemove",u="mousewheel",d="mouseup",v="resize",r="drag",h="enter",y="up",g="panedown",n="DOMMouseScroll",l="down",T="wheel",m="touchmove",s="Microsoft Internet Explorer"===e.navigator.appName&&/msie 7./i.test(e.navigator.appVersion)&&e.ActiveXObject,o=null,H=e.requestAnimationFrame,b=e.cancelAnimationFrame,A=i.createElement("div").style,Y=function(){var t,e,i,s;for(e=["t","webkitT","MozT","msT","OT"],t=i=0,s=e.length;i<s;t=++i)if(e[t],e[t]+"ransform"in A)return e[t].substr(0,e[t].length-1);return!1}(),E=function(t){return!1!==Y&&(""===Y?t:Y+t.charAt(0).toUpperCase()+t.substr(1))},O=E("transform"),$=!1!==O,x=function(){var t,e,s;return t=i.createElement("div"),e=t.style,e.position="absolute",e.width="100px",e.height="100px",e.overflow=S,e.top="-9999px",i.body.appendChild(t),s=t.offsetWidth-t.clientWidth,i.body.removeChild(t),s},C=function(){var t,i,s;return i=e.navigator.userAgent,!!(t=/(?=.+Mac OS X)(?=.+Firefox)/.test(i))&&(s=/Firefox\/\d{2}\./.exec(i),s&&(s=s[0].replace(/\D+/g,"")),t&&+s>23)},f=function(){function f(s,n){this.el=s,this.options=n,o||(o=x()),this.$el=t(this.el),this.doc=t(this.options.documentContext||i),this.win=t(this.options.windowContext||e),this.body=this.doc.find("body"),this.$content=this.$el.children("."+this.options.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.previousPosition=0,this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return f.prototype.preventScrolling=function(t,e){if(this.isActive)if(t.type===n)(e===l&&t.originalEvent.detail>0||e===y&&t.originalEvent.detail<0)&&t.preventDefault();else if(t.type===u){if(!t.originalEvent||!t.originalEvent.wheelDelta)return;(e===l&&t.originalEvent.wheelDelta<0||e===y&&t.originalEvent.wheelDelta>0)&&t.preventDefault()}},f.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},f.prototype.updateScrollValues=function(){var t,e;t=this.content,this.maxScrollTop=t.scrollHeight-t.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=t.scrollTop,e=this.contentScrollTop>this.previousPosition?"down":this.contentScrollTop<this.previousPosition?"up":"same",this.previousPosition=this.contentScrollTop,"same"!==e&&this.$el.trigger("update",{position:this.contentScrollTop,maximum:this.maxScrollTop,direction:e}),this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},f.prototype.setOnScrollStyles=function(){var t;$?(t={},t[O]="translate(0, "+this.sliderTop+"px)"):t={top:this.sliderTop},H?(b&&this.scrollRAF&&b(this.scrollRAF),this.scrollRAF=H(function(e){return function(){return e.scrollRAF=null,e.slider.css(t)}}(this))):this.slider.css(t)},f.prototype.createEvents=function(){this.events={down:function(t){return function(e){return t.isBeingDragged=!0,t.offsetY=e.pageY-t.slider.offset().top,t.slider.is(e.target)||(t.offsetY=0),t.pane.addClass(t.options.activeClass),t.doc.bind(p,t.events[r]).bind(d,t.events[y]),t.body.bind(a,t.events[h]),!1}}(this),drag:function(t){return function(e){return t.sliderY=e.pageY-t.$el.offset().top-t.paneTop-(t.offsetY||.5*t.sliderHeight),t.scroll(),t.contentScrollTop>=t.maxScrollTop&&t.prevScrollTop!==t.maxScrollTop?t.$el.trigger("scrollend"):0===t.contentScrollTop&&0!==t.prevScrollTop&&t.$el.trigger("scrolltop"),!1}}(this),up:function(t){return function(e){return t.isBeingDragged=!1,t.pane.removeClass(t.options.activeClass),t.doc.unbind(p,t.events[r]).unbind(d,t.events[y]),t.body.unbind(a,t.events[h]),!1}}(this),resize:function(t){return function(e){t.reset()}}(this),panedown:function(t){return function(e){return t.sliderY=(e.offsetY||e.originalEvent.layerY)-.5*t.sliderHeight,t.scroll(),t.events.down(e),!1}}(this),scroll:function(t){return function(e){t.updateScrollValues(),t.isBeingDragged||(t.iOSNativeScrolling||(t.sliderY=t.sliderTop,t.setOnScrollStyles()),null!=e&&(t.contentScrollTop>=t.maxScrollTop?(t.options.preventPageScrolling&&t.preventScrolling(e,l),t.prevScrollTop!==t.maxScrollTop&&t.$el.trigger("scrollend")):0===t.contentScrollTop&&(t.options.preventPageScrolling&&t.preventScrolling(e,y),0!==t.prevScrollTop&&t.$el.trigger("scrolltop"))))}}(this),wheel:function(t){return function(e){var i;if(null!=e)return i=e.delta||e.wheelDelta||e.originalEvent&&e.originalEvent.wheelDelta||-e.detail||e.originalEvent&&-e.originalEvent.detail,i&&(t.sliderY+=-i/3),t.scroll(),!1}}(this),enter:function(t){return function(e){var i;if(t.isBeingDragged)return 1!==(e.buttons||e.which)?(i=t.events)[y].apply(i,arguments):void 0}}(this)}},f.prototype.addEvents=function(){var t;this.removeEvents(),t=this.events,this.options.disableResize||this.win.bind(v,t[v]),this.iOSNativeScrolling||(this.slider.bind(c,t[l]),this.pane.bind(c,t[g]).bind(u+" "+n,t[T])),this.$content.bind(S+" "+u+" "+n+" "+m,t[S])},f.prototype.removeEvents=function(){var t;t=this.events,this.win.unbind(v,t[v]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(S+" "+u+" "+n+" "+m,t[S])},f.prototype.generate=function(){var t,i,s,n,l,r;return s=this.options,l=s.paneClass,r=s.sliderClass,s.contentClass,(n=this.$el.children("."+l)).length||n.children("."+r).length||this.$el.append('<div class="'+l+'"><div class="'+r+'" /></div>'),this.pane=this.$el.children("."+l),this.slider=this.pane.find("."+r),0===o&&C()?(i=e.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/[^0-9.]+/g,""),t={right:-14,paddingRight:+i+14}):o&&(t={right:-o},this.$el.addClass(s.enabledClass)),null!=t&&this.$content.css(t),this},f.prototype.restore=function(){this.stopped=!1,this.iOSNativeScrolling||this.pane.show(),this.addEvents()},f.prototype.reset=function(){var t,e,i,n,l,r,h,c,a,p,d,u;return this.iOSNativeScrolling?void(this.contentHeight=this.content.scrollHeight):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),t=this.content,n=t.style,l=n.overflowY,s&&this.$content.css({height:this.$content.height()}),e=t.scrollHeight+o,p=parseInt(this.$el.css("max-height"),10),p>0&&(this.$el.height(""),this.$el.height(t.scrollHeight>p?p:t.scrollHeight)),h=this.pane.outerHeight(!1),a=parseInt(this.pane.css("top"),10),r=parseInt(this.pane.css("bottom"),10),c=h+a+r,u=Math.round(c/e*h),u<this.options.sliderMinHeight?u=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&u>this.options.sliderMaxHeight&&(u=this.options.sliderMaxHeight),l===S&&n.overflowX!==S&&(u+=o),this.maxSliderTop=c-u,this.contentHeight=e,this.paneHeight=h,this.paneOuterHeight=c,this.sliderHeight=u,this.paneTop=a,this.slider.height(u),this.events.scroll(),this.pane.show(),this.isActive=!0,t.scrollHeight===t.clientHeight||this.pane.outerHeight(!0)>=t.scrollHeight&&l!==S?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===t.scrollHeight&&l===S?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),i=this.$content.css("position"),"static"!==i&&"relative"!==i||(d=parseInt(this.$content.css("right"),10))&&this.$content.css({right:"",marginRight:d}),this)},f.prototype.scroll=function(){if(this.isActive)return this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(this.maxScrollTop*this.sliderY/this.maxSliderTop),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this},f.prototype.scrollBottom=function(t){if(this.isActive)return this.$content.scrollTop(this.contentHeight-this.$content.height()-t).trigger(u),this.stop().restore(),this},f.prototype.scrollTop=function(t){if(this.isActive)return this.$content.scrollTop(+t).trigger(u),this.stop().restore(),this},f.prototype.scrollTo=function(t){if(this.isActive)return this.scrollTop(this.$el.find(t).get(0).offsetTop),this},f.prototype.stop=function(){return b&&this.scrollRAF&&(b(this.scrollRAF),this.scrollRAF=null),this.stopped=!0,this.removeEvents(),this.iOSNativeScrolling||this.pane.hide(),this},f.prototype.destroy=function(){return this.stopped||this.stop(),!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove(),s&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass(this.options.enabledClass)&&(this.$el.removeClass(this.options.enabledClass),this.$content.css({right:""})),this},f.prototype.flash=function(){if(!this.iOSNativeScrolling&&this.isActive)return this.reset(),this.pane.addClass(this.options.flashedClass),setTimeout(function(t){return function(){t.pane.removeClass(t.options.flashedClass)}}(this),this.options.flashDelay),this},f}(),t.fn.nanoScroller=function(e){return this.each(function(){var i,s;if((s=this.nanoscroller)||(i=t.extend({},w,e),this.nanoscroller=s=new f(this,i)),e&&"object"===(void 0===e?"undefined":_typeof(e))){if(t.extend(s.options,e),null!=e.scrollBottom)return s.scrollBottom(e.scrollBottom);if(null!=e.scrollTop)return s.scrollTop(e.scrollTop);if(e.scrollTo)return s.scrollTo(e.scrollTo);if("bottom"===e.scroll)return s.scrollBottom(0);if("top"===e.scroll)return s.scrollTop(0);if(e.scroll&&e.scroll instanceof t)return s.scrollTo(e.scroll);if(e.stop)return s.stop();if(e.destroy)return s.destroy();if(e.flash)return s.flash()}return s.reset()})},t.fn.nanoScroller.Constructor=f});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5uYW5vc2Nyb2xsZXIuanMiXSwibmFtZXMiOlsiZmFjdG9yeSIsImRlZmluZSIsImFtZCIsIiQiLCJ3aW5kb3ciLCJkb2N1bWVudCIsImV4cG9ydHMiLCJyZXF1aXJlIiwialF1ZXJ5IiwibW9kdWxlIiwiQlJPV1NFUl9JU19JRTciLCJET01TQ1JPTEwiLCJET1dOIiwiRFJBRyIsIkVOVEVSIiwiTU9VU0VET1dOIiwiTU9VU0VFTlRFUiIsIk1PVVNFTU9WRSIsIk1PVVNFVVAiLCJNT1VTRVdIRUVMIiwiTmFub1Njcm9sbCIsIlBBTkVET1dOIiwiUkVTSVpFIiwiU0NST0xMIiwiVE9VQ0hNT1ZFIiwiVVAiLCJXSEVFTCIsImNBRiIsImRlZmF1bHRzIiwiZ2V0QnJvd3NlclNjcm9sbGJhcldpZHRoIiwiaGFzVHJhbnNmb3JtIiwiaXNGRldpdGhCdWdneVNjcm9sbGJhciIsInJBRiIsInRyYW5zZm9ybSIsIl9lbGVtZW50U3R5bGUiLCJfcHJlZml4U3R5bGUiLCJfdmVuZG9yIiwicGFuZUNsYXNzIiwic2xpZGVyQ2xhc3MiLCJjb250ZW50Q2xhc3MiLCJlbmFibGVkQ2xhc3MiLCJmbGFzaGVkQ2xhc3MiLCJhY3RpdmVDbGFzcyIsImlPU05hdGl2ZVNjcm9sbGluZyIsInByZXZlbnRQYWdlU2Nyb2xsaW5nIiwiZGlzYWJsZVJlc2l6ZSIsImFsd2F5c1Zpc2libGUiLCJmbGFzaERlbGF5Iiwic2xpZGVyTWluSGVpZ2h0Iiwic2xpZGVyTWF4SGVpZ2h0IiwiZG9jdW1lbnRDb250ZXh0Iiwid2luZG93Q29udGV4dCIsIm5hdmlnYXRvciIsImFwcE5hbWUiLCJ0ZXN0IiwiYXBwVmVyc2lvbiIsIkFjdGl2ZVhPYmplY3QiLCJCUk9XU0VSX1NDUk9MTEJBUl9XSURUSCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwidmVuZG9ycyIsIl9pIiwiX2xlbiIsImxlbmd0aCIsImkiLCJ2ZW5kb3IiLCJzdWJzdHIiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsIm91dGVyIiwib3V0ZXJTdHlsZSIsInNjcm9sbGJhcldpZHRoIiwicG9zaXRpb24iLCJvZmZzZXRXaWR0aCIsImNsaWVudFdpZHRoIiwiaGVpZ2h0IiwiYXBwZW5kQ2hpbGQiLCJib2R5IiwicmVtb3ZlQ2hpbGQiLCJpc09TWEZGIiwidWEiLCJ1c2VyQWdlbnQiLCJ2ZXJzaW9uIiwicmVwbGFjZSIsImVsIiwib3B0aW9ucyIsInRoaXMiLCJkb2MiLCIkZWwiLCJhdHRyIiwidGFiSW5kZXgiLCJ3aW4iLCJXZWJraXRPdmVyZmxvd1Njcm9sbGluZyIsIiRjb250ZW50IiwiY29udGVudCIsImNyZWF0ZUV2ZW50cyIsImFkZEV2ZW50cyIsInJlc2V0IiwicHJvdG90eXBlIiwicHJldmVudFNjcm9sbGluZyIsImUiLCJkaXJlY3Rpb24iLCJpc0FjdGl2ZSIsIm9yaWdpbmFsRXZlbnQiLCJkZXRhaWwiLCJwcmV2ZW50RGVmYXVsdCIsInR5cGUiLCJ3aGVlbERlbHRhIiwibmF0aXZlU2Nyb2xsaW5nIiwiY3NzIiwidXBkYXRlU2Nyb2xsVmFsdWVzIiwic2Nyb2xsSGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiY29udGVudFNjcm9sbFRvcCIsIm1heFNjcm9sbFRvcCIsInByZXZTY3JvbGxUb3AiLCJwcmV2aW91c1Bvc2l0aW9uIiwibWF4aW11bSIsInRyaWdnZXIiLCJtYXhTbGlkZXJUb3AiLCJwYW5lSGVpZ2h0Iiwic2xpZGVySGVpZ2h0Iiwic2xpZGVyVG9wIiwic2V0T25TY3JvbGxTdHlsZXMiLCJjc3NWYWx1ZSIsInNjcm9sbFJBRiIsIl90aGlzIiwic2xpZGVyIiwiZXZlbnRzIiwiZG93biIsImlzQmVpbmdEcmFnZ2VkIiwib2Zmc2V0WSIsInBhZ2VZIiwib2Zmc2V0IiwidG9wIiwiaXMiLCJ0YXJnZXQiLCJwYW5lIiwiYWRkQ2xhc3MiLCJiaW5kIiwiZHJhZyIsInNsaWRlclkiLCJwYW5lVG9wIiwic2Nyb2xsIiwidXAiLCJyZW1vdmVDbGFzcyIsInVuYmluZCIsInJlc2l6ZSIsInBhbmVkb3duIiwibGF5ZXJZIiwid2hlZWwiLCJkZWx0YSIsImVudGVyIiwiX3JlZiIsImJ1dHRvbnMiLCJ3aGljaCIsImFwcGx5IiwiYXJndW1lbnRzIiwiY2hpbGRyZW4iLCJhcHBlbmQiLCJjdXJyZW50UGFkZGluZyIsImdldENvbXB1dGVkU3R5bGUiLCJjc3NSdWxlIiwiZmluZCIsInJpZ2h0IiwicGFkZGluZ1JpZ2h0IiwiZ2V0UHJvcGVydHlWYWx1ZSIsInJlc3RvcmUiLCJzaG93IiwiY29udGVudEhlaWdodCIsImNvbnRlbnRQb3NpdGlvbiIsImNvbnRlbnRTdHlsZU92ZXJmbG93WSIsInBhbmVCb3R0b20iLCJwYW5lT3V0ZXJIZWlnaHQiLCJwYXJlbnRNYXhIZWlnaHQiLCJnZW5lcmF0ZSIsImNvbnRlbnRTdHlsZSIsIm92ZXJmbG93WSIsIm91dGVySGVpZ2h0IiwicGFyc2VJbnQiLCJNYXRoIiwicm91bmQiLCJvdmVyZmxvd1giLCJoaWRlIiwib3BhY2l0eSIsInZpc2liaWxpdHkiLCJtYXJnaW5SaWdodCIsInNjcm9sbFRvcCIsIm1heCIsIm1pbiIsInNjcm9sbEJvdHRvbSIsInN0b3AiLCJzY3JvbGxUbyIsIm5vZGUiLCJnZXQiLCJvZmZzZXRUb3AiLCJzdG9wcGVkIiwicmVtb3ZlRXZlbnRzIiwiaGFzQ2xhc3MiLCJyZW1vdmUiLCJyZW1vdmVBdHRyIiwiZmxhc2giLCJuYW5vU2Nyb2xsZXIiLCJlYWNoIiwic2V0VGltZW91dCIsInNjcm9sbGJhciIsImV4dGVuZCIsInNldHRpbmdzIiwiZm4iLCJfdHlwZW9mIiwiZGVzdHJveSIsIkNvbnN0cnVjdG9yIl0sIm1hcHBpbmdzIjoib09BR0EsU0FBVUEsR0FIVixrQkFBQUMsU0FBQUEsT0FBQUMsSUFLV0QsUUFBUSxVQUFXLFNBQVNFLEdBQ2pDLE1BQU9ILEdBQVFHLEVBQUdDLE9BQVFDLFlBRlIsWUFBWEosbUJBQVBLLFNBQU9MLFlBQUFBLFFBQVBLLFVBQ0tMLE9BQU9LLFFBQVBOLEVB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QUFPRixhQUNSLE1BQUFBLEdBQUFmLGFBQUFpQixFQUFBakIsYUFFQyxJQUFpQkUsTUFBakJlLEVBQU9GLFVBQ1IsTUFBQUEsR0FBQWxCLFVBQUFvQixFQUFBcEIsVUFFQyxJQUFBb0IsRUFBT0YsU0FDUixNQUFBQSxHQUFBYixTQUFBZSxFQUFBZixTQUVDLElBQWlCa0IsV0FBakJILEVBQU9GLE9BQ1IsTUFBQUEsR0FBQWYsYUFBQSxFQUVDLElBQU8sUUFBUGlCLEVBQU9GLE9BQ1IsTUFBQUEsR0FBQWxCLFVBQUEsRUFFSCxJQUFBb0IsRUFBT0YsUUFBUEUsRUFBQWhFLGlCQUFBOUksR0FwQ0YsTUFBQTRNLEdBQUFiLFNBQUFlLEVBQUFoRSxPQXVDRzJELElBQUFBLEVBQWFTLEtBaitCcEIsTUFBQU4sR0FBQWQsTUFvK0JBLElBQUFnQixFQUFBRyxRQVpVLE1BQU9MLEdBQVVLLFNBRW5CLElBQUlILEVBQVNOLE1BQ1gsTUFBT0ksR0FBVUosUUFHckIsTUFBT0ksR0FBVTVHLFdBR3JCaEcsRUFBRStNLEdBQUdOLGFBQWFTLFlBQWNqTSIsImZpbGUiOiJqcXVlcnkubmFub3Njcm9sbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohIG5hbm9TY3JvbGxlckpTIC0gdjAuOC43IC0gMjAxNVxyXG4qIGh0dHA6Ly9qYW1lc2Zsb3JlbnRpbm8uZ2l0aHViLmNvbS9uYW5vU2Nyb2xsZXJKUy9cclxuKiBDb3B5cmlnaHQgKGMpIDIwMTUgSmFtZXMgRmxvcmVudGlubzsgTGljZW5zZWQgTUlUICovXHJcbihmdW5jdGlvbihmYWN0b3J5KSB7XHJcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xyXG4gICAgcmV0dXJuIGRlZmluZShbJ2pxdWVyeSddLCBmdW5jdGlvbigkKSB7XHJcbiAgICAgIHJldHVybiBmYWN0b3J5KCQsIHdpbmRvdywgZG9jdW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcclxuICAgIHJldHVybiBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnanF1ZXJ5JyksIHdpbmRvdywgZG9jdW1lbnQpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gZmFjdG9yeShqUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xyXG4gIH1cclxufSkoZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCkge1xyXG4gIFwidXNlIHN0cmljdFwiO1xyXG4gIHZhciBCUk9XU0VSX0lTX0lFNywgQlJPV1NFUl9TQ1JPTExCQVJfV0lEVEgsIERPTVNDUk9MTCwgRE9XTiwgRFJBRywgRU5URVIsIEtFWURPV04sIEtFWVVQLCBNT1VTRURPV04sIE1PVVNFRU5URVIsIE1PVVNFTU9WRSwgTU9VU0VVUCwgTU9VU0VXSEVFTCwgTmFub1Njcm9sbCwgUEFORURPV04sIFJFU0laRSwgU0NST0xMLCBTQ1JPTExCQVIsIFRPVUNITU9WRSwgVVAsIFdIRUVMLCBjQUYsIGRlZmF1bHRzLCBnZXRCcm93c2VyU2Nyb2xsYmFyV2lkdGgsIGhhc1RyYW5zZm9ybSwgaXNGRldpdGhCdWdneVNjcm9sbGJhciwgckFGLCB0cmFuc2Zvcm0sIF9lbGVtZW50U3R5bGUsIF9wcmVmaXhTdHlsZSwgX3ZlbmRvcjtcclxuICBkZWZhdWx0cyA9IHtcclxuXHJcbiAgICAvKipcclxuICAgICAgYSBjbGFzc25hbWUgZm9yIHRoZSBwYW5lIGVsZW1lbnQuXHJcbiAgICAgIEBwcm9wZXJ0eSBwYW5lQ2xhc3NcclxuICAgICAgQHR5cGUgU3RyaW5nXHJcbiAgICAgIEBkZWZhdWx0ICduYW5vLXBhbmUnXHJcbiAgICAgKi9cclxuICAgIHBhbmVDbGFzczogJ25hbm8tcGFuZScsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgIGEgY2xhc3NuYW1lIGZvciB0aGUgc2xpZGVyIGVsZW1lbnQuXHJcbiAgICAgIEBwcm9wZXJ0eSBzbGlkZXJDbGFzc1xyXG4gICAgICBAdHlwZSBTdHJpbmdcclxuICAgICAgQGRlZmF1bHQgJ25hbm8tc2xpZGVyJ1xyXG4gICAgICovXHJcbiAgICBzbGlkZXJDbGFzczogJ25hbm8tc2xpZGVyJyxcclxuXHJcbiAgICAvKipcclxuICAgICAgYSBjbGFzc25hbWUgZm9yIHRoZSBjb250ZW50IGVsZW1lbnQuXHJcbiAgICAgIEBwcm9wZXJ0eSBjb250ZW50Q2xhc3NcclxuICAgICAgQHR5cGUgU3RyaW5nXHJcbiAgICAgIEBkZWZhdWx0ICduYW5vLWNvbnRlbnQnXHJcbiAgICAgKi9cclxuICAgIGNvbnRlbnRDbGFzczogJ25hbm8tY29udGVudCcsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgIGEgY2xhc3NuYW1lIGZvciBlbmFibGVkIG1vZGVcclxuICAgICAgQHByb3BlcnR5IGVuYWJsZWRDbGFzc1xyXG4gICAgICBAdHlwZSBTdHJpbmdcclxuICAgICAgQGRlZmF1bHQgJ2hhcy1zY3JvbGxiYXInXHJcbiAgICAgKi9cclxuICAgIGVuYWJsZWRDbGFzczogJ2hhcy1zY3JvbGxiYXInLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICBhIGNsYXNzbmFtZSBmb3IgZmxhc2hlZCBtb2RlXHJcbiAgICAgIEBwcm9wZXJ0eSBmbGFzaGVkQ2xhc3NcclxuICAgICAgQHR5cGUgU3RyaW5nXHJcbiAgICAgIEBkZWZhdWx0ICdmbGFzaGVkJ1xyXG4gICAgICovXHJcbiAgICBmbGFzaGVkQ2xhc3M6ICdmbGFzaGVkJyxcclxuXHJcbiAgICAvKipcclxuICAgICAgYSBjbGFzc25hbWUgZm9yIGFjdGl2ZSBtb2RlXHJcbiAgICAgIEBwcm9wZXJ0eSBhY3RpdmVDbGFzc1xyXG4gICAgICBAdHlwZSBTdHJpbmdcclxuICAgICAgQGRlZmF1bHQgJ2FjdGl2ZSdcclxuICAgICAqL1xyXG4gICAgYWN0aXZlQ2xhc3M6ICdhY3RpdmUnLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICBhIHNldHRpbmcgdG8gZW5hYmxlIG5hdGl2ZSBzY3JvbGxpbmcgaW4gaU9TIGRldmljZXMuXHJcbiAgICAgIEBwcm9wZXJ0eSBpT1NOYXRpdmVTY3JvbGxpbmdcclxuICAgICAgQHR5cGUgQm9vbGVhblxyXG4gICAgICBAZGVmYXVsdCBmYWxzZVxyXG4gICAgICovXHJcbiAgICBpT1NOYXRpdmVTY3JvbGxpbmc6IGZhbHNlLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICBhIHNldHRpbmcgdG8gcHJldmVudCB0aGUgcmVzdCBvZiB0aGUgcGFnZSBiZWluZ1xyXG4gICAgICBzY3JvbGxlZCB3aGVuIHVzZXIgc2Nyb2xscyB0aGUgYC5jb250ZW50YCBlbGVtZW50LlxyXG4gICAgICBAcHJvcGVydHkgcHJldmVudFBhZ2VTY3JvbGxpbmdcclxuICAgICAgQHR5cGUgQm9vbGVhblxyXG4gICAgICBAZGVmYXVsdCBmYWxzZVxyXG4gICAgICovXHJcbiAgICBwcmV2ZW50UGFnZVNjcm9sbGluZzogZmFsc2UsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgIGEgc2V0dGluZyB0byBkaXNhYmxlIGJpbmRpbmcgdG8gdGhlIHJlc2l6ZSBldmVudC5cclxuICAgICAgQHByb3BlcnR5IGRpc2FibGVSZXNpemVcclxuICAgICAgQHR5cGUgQm9vbGVhblxyXG4gICAgICBAZGVmYXVsdCBmYWxzZVxyXG4gICAgICovXHJcbiAgICBkaXNhYmxlUmVzaXplOiBmYWxzZSxcclxuXHJcbiAgICAvKipcclxuICAgICAgYSBzZXR0aW5nIHRvIG1ha2UgdGhlIHNjcm9sbGJhciBhbHdheXMgdmlzaWJsZS5cclxuICAgICAgQHByb3BlcnR5IGFsd2F5c1Zpc2libGVcclxuICAgICAgQHR5cGUgQm9vbGVhblxyXG4gICAgICBAZGVmYXVsdCBmYWxzZVxyXG4gICAgICovXHJcbiAgICBhbHdheXNWaXNpYmxlOiBmYWxzZSxcclxuXHJcbiAgICAvKipcclxuICAgICAgYSBkZWZhdWx0IHRpbWVvdXQgZm9yIHRoZSBgZmxhc2goKWAgbWV0aG9kLlxyXG4gICAgICBAcHJvcGVydHkgZmxhc2hEZWxheVxyXG4gICAgICBAdHlwZSBOdW1iZXJcclxuICAgICAgQGRlZmF1bHQgMTUwMFxyXG4gICAgICovXHJcbiAgICBmbGFzaERlbGF5OiAxNTAwLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICBhIG1pbmltdW0gaGVpZ2h0IGZvciB0aGUgYC5zbGlkZXJgIGVsZW1lbnQuXHJcbiAgICAgIEBwcm9wZXJ0eSBzbGlkZXJNaW5IZWlnaHRcclxuICAgICAgQHR5cGUgTnVtYmVyXHJcbiAgICAgIEBkZWZhdWx0IDIwXHJcbiAgICAgKi9cclxuICAgIHNsaWRlck1pbkhlaWdodDogMjAsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgIGEgbWF4aW11bSBoZWlnaHQgZm9yIHRoZSBgLnNsaWRlcmAgZWxlbWVudC5cclxuICAgICAgQHByb3BlcnR5IHNsaWRlck1heEhlaWdodFxyXG4gICAgICBAdHlwZSBOdW1iZXJcclxuICAgICAgQGRlZmF1bHQgbnVsbFxyXG4gICAgICovXHJcbiAgICBzbGlkZXJNYXhIZWlnaHQ6IG51bGwsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgIGFuIGFsdGVybmF0ZSBkb2N1bWVudCBjb250ZXh0LlxyXG4gICAgICBAcHJvcGVydHkgZG9jdW1lbnRDb250ZXh0XHJcbiAgICAgIEB0eXBlIERvY3VtZW50XHJcbiAgICAgIEBkZWZhdWx0IG51bGxcclxuICAgICAqL1xyXG4gICAgZG9jdW1lbnRDb250ZXh0OiBudWxsLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICBhbiBhbHRlcm5hdGUgd2luZG93IGNvbnRleHQuXHJcbiAgICAgIEBwcm9wZXJ0eSB3aW5kb3dDb250ZXh0XHJcbiAgICAgIEB0eXBlIFdpbmRvd1xyXG4gICAgICBAZGVmYXVsdCBudWxsXHJcbiAgICAgKi9cclxuICAgIHdpbmRvd0NvbnRleHQ6IG51bGxcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgIEBwcm9wZXJ0eSBTQ1JPTExCQVJcclxuICAgIEB0eXBlIFN0cmluZ1xyXG4gICAgQHN0YXRpY1xyXG4gICAgQGZpbmFsXHJcbiAgICBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIFNDUk9MTEJBUiA9ICdzY3JvbGxiYXInO1xyXG5cclxuICAvKipcclxuICAgIEBwcm9wZXJ0eSBTQ1JPTExcclxuICAgIEB0eXBlIFN0cmluZ1xyXG4gICAgQHN0YXRpY1xyXG4gICAgQGZpbmFsXHJcbiAgICBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIFNDUk9MTCA9ICdzY3JvbGwnO1xyXG5cclxuICAvKipcclxuICAgIEBwcm9wZXJ0eSBNT1VTRURPV05cclxuICAgIEB0eXBlIFN0cmluZ1xyXG4gICAgQGZpbmFsXHJcbiAgICBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIE1PVVNFRE9XTiA9ICdtb3VzZWRvd24nO1xyXG5cclxuICAvKipcclxuICAgIEBwcm9wZXJ0eSBNT1VTRUVOVEVSXHJcbiAgICBAdHlwZSBTdHJpbmdcclxuICAgIEBmaW5hbFxyXG4gICAgQHByaXZhdGVcclxuICAgKi9cclxuICBNT1VTRUVOVEVSID0gJ21vdXNlZW50ZXInO1xyXG5cclxuICAvKipcclxuICAgIEBwcm9wZXJ0eSBNT1VTRU1PVkVcclxuICAgIEB0eXBlIFN0cmluZ1xyXG4gICAgQHN0YXRpY1xyXG4gICAgQGZpbmFsXHJcbiAgICBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIE1PVVNFTU9WRSA9ICdtb3VzZW1vdmUnO1xyXG5cclxuICAvKipcclxuICAgIEBwcm9wZXJ0eSBNT1VTRVdIRUVMXHJcbiAgICBAdHlwZSBTdHJpbmdcclxuICAgIEBmaW5hbFxyXG4gICAgQHByaXZhdGVcclxuICAgKi9cclxuICBNT1VTRVdIRUVMID0gJ21vdXNld2hlZWwnO1xyXG5cclxuICAvKipcclxuICAgIEBwcm9wZXJ0eSBNT1VTRVVQXHJcbiAgICBAdHlwZSBTdHJpbmdcclxuICAgIEBzdGF0aWNcclxuICAgIEBmaW5hbFxyXG4gICAgQHByaXZhdGVcclxuICAgKi9cclxuICBNT1VTRVVQID0gJ21vdXNldXAnO1xyXG5cclxuICAvKipcclxuICAgIEBwcm9wZXJ0eSBSRVNJWkVcclxuICAgIEB0eXBlIFN0cmluZ1xyXG4gICAgQGZpbmFsXHJcbiAgICBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIFJFU0laRSA9ICdyZXNpemUnO1xyXG5cclxuICAvKipcclxuICAgIEBwcm9wZXJ0eSBEUkFHXHJcbiAgICBAdHlwZSBTdHJpbmdcclxuICAgIEBzdGF0aWNcclxuICAgIEBmaW5hbFxyXG4gICAgQHByaXZhdGVcclxuICAgKi9cclxuICBEUkFHID0gJ2RyYWcnO1xyXG5cclxuICAvKipcclxuICAgIEBwcm9wZXJ0eSBFTlRFUlxyXG4gICAgQHR5cGUgU3RyaW5nXHJcbiAgICBAc3RhdGljXHJcbiAgICBAZmluYWxcclxuICAgIEBwcml2YXRlXHJcbiAgICovXHJcbiAgRU5URVIgPSAnZW50ZXInO1xyXG5cclxuICAvKipcclxuICAgIEBwcm9wZXJ0eSBVUFxyXG4gICAgQHR5cGUgU3RyaW5nXHJcbiAgICBAc3RhdGljXHJcbiAgICBAZmluYWxcclxuICAgIEBwcml2YXRlXHJcbiAgICovXHJcbiAgVVAgPSAndXAnO1xyXG5cclxuICAvKipcclxuICAgIEBwcm9wZXJ0eSBQQU5FRE9XTlxyXG4gICAgQHR5cGUgU3RyaW5nXHJcbiAgICBAc3RhdGljXHJcbiAgICBAZmluYWxcclxuICAgIEBwcml2YXRlXHJcbiAgICovXHJcbiAgUEFORURPV04gPSAncGFuZWRvd24nO1xyXG5cclxuICAvKipcclxuICAgIEBwcm9wZXJ0eSBET01TQ1JPTExcclxuICAgIEB0eXBlIFN0cmluZ1xyXG4gICAgQHN0YXRpY1xyXG4gICAgQGZpbmFsXHJcbiAgICBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIERPTVNDUk9MTCA9ICdET01Nb3VzZVNjcm9sbCc7XHJcblxyXG4gIC8qKlxyXG4gICAgQHByb3BlcnR5IERPV05cclxuICAgIEB0eXBlIFN0cmluZ1xyXG4gICAgQHN0YXRpY1xyXG4gICAgQGZpbmFsXHJcbiAgICBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIERPV04gPSAnZG93bic7XHJcblxyXG4gIC8qKlxyXG4gICAgQHByb3BlcnR5IFdIRUVMXHJcbiAgICBAdHlwZSBTdHJpbmdcclxuICAgIEBzdGF0aWNcclxuICAgIEBmaW5hbFxyXG4gICAgQHByaXZhdGVcclxuICAgKi9cclxuICBXSEVFTCA9ICd3aGVlbCc7XHJcblxyXG4gIC8qKlxyXG4gICAgQHByb3BlcnR5IEtFWURPV05cclxuICAgIEB0eXBlIFN0cmluZ1xyXG4gICAgQHN0YXRpY1xyXG4gICAgQGZpbmFsXHJcbiAgICBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIEtFWURPV04gPSAna2V5ZG93bic7XHJcblxyXG4gIC8qKlxyXG4gICAgQHByb3BlcnR5IEtFWVVQXHJcbiAgICBAdHlwZSBTdHJpbmdcclxuICAgIEBzdGF0aWNcclxuICAgIEBmaW5hbFxyXG4gICAgQHByaXZhdGVcclxuICAgKi9cclxuICBLRVlVUCA9ICdrZXl1cCc7XHJcblxyXG4gIC8qKlxyXG4gICAgQHByb3BlcnR5IFRPVUNITU9WRVxyXG4gICAgQHR5cGUgU3RyaW5nXHJcbiAgICBAc3RhdGljXHJcbiAgICBAZmluYWxcclxuICAgIEBwcml2YXRlXHJcbiAgICovXHJcbiAgVE9VQ0hNT1ZFID0gJ3RvdWNobW92ZSc7XHJcblxyXG4gIC8qKlxyXG4gICAgQHByb3BlcnR5IEJST1dTRVJfSVNfSUU3XHJcbiAgICBAdHlwZSBCb29sZWFuXHJcbiAgICBAc3RhdGljXHJcbiAgICBAZmluYWxcclxuICAgIEBwcml2YXRlXHJcbiAgICovXHJcbiAgQlJPV1NFUl9JU19JRTcgPSB3aW5kb3cubmF2aWdhdG9yLmFwcE5hbWUgPT09ICdNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXInICYmIC9tc2llIDcuL2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLmFwcFZlcnNpb24pICYmIHdpbmRvdy5BY3RpdmVYT2JqZWN0O1xyXG5cclxuICAvKipcclxuICAgIEBwcm9wZXJ0eSBCUk9XU0VSX1NDUk9MTEJBUl9XSURUSFxyXG4gICAgQHR5cGUgTnVtYmVyXHJcbiAgICBAc3RhdGljXHJcbiAgICBAZGVmYXVsdCBudWxsXHJcbiAgICBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIEJST1dTRVJfU0NST0xMQkFSX1dJRFRIID0gbnVsbDtcclxuICByQUYgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xyXG4gIGNBRiA9IHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZTtcclxuICBfZWxlbWVudFN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jykuc3R5bGU7XHJcbiAgX3ZlbmRvciA9IChmdW5jdGlvbigpIHtcclxuICAgIHZhciBpLCB0cmFuc2Zvcm0sIHZlbmRvciwgdmVuZG9ycywgX2ksIF9sZW47XHJcbiAgICB2ZW5kb3JzID0gWyd0JywgJ3dlYmtpdFQnLCAnTW96VCcsICdtc1QnLCAnT1QnXTtcclxuICAgIGZvciAoaSA9IF9pID0gMCwgX2xlbiA9IHZlbmRvcnMubGVuZ3RoOyBfaSA8IF9sZW47IGkgPSArK19pKSB7XHJcbiAgICAgIHZlbmRvciA9IHZlbmRvcnNbaV07XHJcbiAgICAgIHRyYW5zZm9ybSA9IHZlbmRvcnNbaV0gKyAncmFuc2Zvcm0nO1xyXG4gICAgICBpZiAodHJhbnNmb3JtIGluIF9lbGVtZW50U3R5bGUpIHtcclxuICAgICAgICByZXR1cm4gdmVuZG9yc1tpXS5zdWJzdHIoMCwgdmVuZG9yc1tpXS5sZW5ndGggLSAxKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH0pKCk7XHJcbiAgX3ByZWZpeFN0eWxlID0gZnVuY3Rpb24oc3R5bGUpIHtcclxuICAgIGlmIChfdmVuZG9yID09PSBmYWxzZSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoX3ZlbmRvciA9PT0gJycpIHtcclxuICAgICAgcmV0dXJuIHN0eWxlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF92ZW5kb3IgKyBzdHlsZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0eWxlLnN1YnN0cigxKTtcclxuICB9O1xyXG4gIHRyYW5zZm9ybSA9IF9wcmVmaXhTdHlsZSgndHJhbnNmb3JtJyk7XHJcbiAgaGFzVHJhbnNmb3JtID0gdHJhbnNmb3JtICE9PSBmYWxzZTtcclxuXHJcbiAgLyoqXHJcbiAgICBSZXR1cm5zIGJyb3dzZXIncyBuYXRpdmUgc2Nyb2xsYmFyIHdpZHRoXHJcbiAgICBAbWV0aG9kIGdldEJyb3dzZXJTY3JvbGxiYXJXaWR0aFxyXG4gICAgQHJldHVybiB7TnVtYmVyfSB0aGUgc2Nyb2xsYmFyIHdpZHRoIGluIHBpeGVsc1xyXG4gICAgQHN0YXRpY1xyXG4gICAgQHByaXZhdGVcclxuICAgKi9cclxuICBnZXRCcm93c2VyU2Nyb2xsYmFyV2lkdGggPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBvdXRlciwgb3V0ZXJTdHlsZSwgc2Nyb2xsYmFyV2lkdGg7XHJcbiAgICBvdXRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgb3V0ZXJTdHlsZSA9IG91dGVyLnN0eWxlO1xyXG4gICAgb3V0ZXJTdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICBvdXRlclN0eWxlLndpZHRoID0gJzEwMHB4JztcclxuICAgIG91dGVyU3R5bGUuaGVpZ2h0ID0gJzEwMHB4JztcclxuICAgIG91dGVyU3R5bGUub3ZlcmZsb3cgPSBTQ1JPTEw7XHJcbiAgICBvdXRlclN0eWxlLnRvcCA9ICctOTk5OXB4JztcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQob3V0ZXIpO1xyXG4gICAgc2Nyb2xsYmFyV2lkdGggPSBvdXRlci5vZmZzZXRXaWR0aCAtIG91dGVyLmNsaWVudFdpZHRoO1xyXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChvdXRlcik7XHJcbiAgICByZXR1cm4gc2Nyb2xsYmFyV2lkdGg7XHJcbiAgfTtcclxuICBpc0ZGV2l0aEJ1Z2d5U2Nyb2xsYmFyID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgaXNPU1hGRiwgdWEsIHZlcnNpb247XHJcbiAgICB1YSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xyXG4gICAgaXNPU1hGRiA9IC8oPz0uK01hYyBPUyBYKSg/PS4rRmlyZWZveCkvLnRlc3QodWEpO1xyXG4gICAgaWYgKCFpc09TWEZGKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHZlcnNpb24gPSAvRmlyZWZveFxcL1xcZHsyfVxcLi8uZXhlYyh1YSk7XHJcbiAgICBpZiAodmVyc2lvbikge1xyXG4gICAgICB2ZXJzaW9uID0gdmVyc2lvblswXS5yZXBsYWNlKC9cXEQrL2csICcnKTtcclxuICAgIH1cclxuICAgIHJldHVybiBpc09TWEZGICYmICt2ZXJzaW9uID4gMjM7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICBAY2xhc3MgTmFub1Njcm9sbFxyXG4gICAgQHBhcmFtIGVsZW1lbnQge0hUTUxFbGVtZW50fE5vZGV9IHRoZSBtYWluIGVsZW1lbnRcclxuICAgIEBwYXJhbSBvcHRpb25zIHtPYmplY3R9IG5hbm9TY3JvbGxlcidzIG9wdGlvbnNcclxuICAgIEBjb25zdHJ1Y3RvclxyXG4gICAqL1xyXG4gIE5hbm9TY3JvbGwgPSAoZnVuY3Rpb24oKSB7XHJcbiAgICBmdW5jdGlvbiBOYW5vU2Nyb2xsKGVsLCBvcHRpb25zKSB7XHJcbiAgICAgIHRoaXMuZWwgPSBlbDtcclxuICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxuICAgICAgQlJPV1NFUl9TQ1JPTExCQVJfV0lEVEggfHwgKEJST1dTRVJfU0NST0xMQkFSX1dJRFRIID0gZ2V0QnJvd3NlclNjcm9sbGJhcldpZHRoKCkpO1xyXG4gICAgICB0aGlzLiRlbCA9ICQodGhpcy5lbCk7XHJcbiAgICAgIHRoaXMuZG9jID0gJCh0aGlzLm9wdGlvbnMuZG9jdW1lbnRDb250ZXh0IHx8IGRvY3VtZW50KTtcclxuICAgICAgdGhpcy53aW4gPSAkKHRoaXMub3B0aW9ucy53aW5kb3dDb250ZXh0IHx8IHdpbmRvdyk7XHJcbiAgICAgIHRoaXMuYm9keSA9IHRoaXMuZG9jLmZpbmQoJ2JvZHknKTtcclxuICAgICAgdGhpcy4kY29udGVudCA9IHRoaXMuJGVsLmNoaWxkcmVuKFwiLlwiICsgdGhpcy5vcHRpb25zLmNvbnRlbnRDbGFzcyk7XHJcbiAgICAgIHRoaXMuJGNvbnRlbnQuYXR0cigndGFiaW5kZXgnLCB0aGlzLm9wdGlvbnMudGFiSW5kZXggfHwgMCk7XHJcbiAgICAgIHRoaXMuY29udGVudCA9IHRoaXMuJGNvbnRlbnRbMF07XHJcbiAgICAgIHRoaXMucHJldmlvdXNQb3NpdGlvbiA9IDA7XHJcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuaU9TTmF0aXZlU2Nyb2xsaW5nICYmICh0aGlzLmVsLnN0eWxlLldlYmtpdE92ZXJmbG93U2Nyb2xsaW5nICE9IG51bGwpKSB7XHJcbiAgICAgICAgdGhpcy5uYXRpdmVTY3JvbGxpbmcoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmdlbmVyYXRlKCk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5jcmVhdGVFdmVudHMoKTtcclxuICAgICAgdGhpcy5hZGRFdmVudHMoKTtcclxuICAgICAgdGhpcy5yZXNldCgpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAgUHJldmVudHMgdGhlIHJlc3Qgb2YgdGhlIHBhZ2UgYmVpbmcgc2Nyb2xsZWRcclxuICAgICAgd2hlbiB1c2VyIHNjcm9sbHMgdGhlIGAubmFuby1jb250ZW50YCBlbGVtZW50LlxyXG4gICAgICBAbWV0aG9kIHByZXZlbnRTY3JvbGxpbmdcclxuICAgICAgQHBhcmFtIGV2ZW50IHtFdmVudH1cclxuICAgICAgQHBhcmFtIGRpcmVjdGlvbiB7U3RyaW5nfSBTY3JvbGwgZGlyZWN0aW9uICh1cCBvciBkb3duKVxyXG4gICAgICBAcHJpdmF0ZVxyXG4gICAgICovXHJcblxyXG4gICAgTmFub1Njcm9sbC5wcm90b3R5cGUucHJldmVudFNjcm9sbGluZyA9IGZ1bmN0aW9uKGUsIGRpcmVjdGlvbikge1xyXG4gICAgICBpZiAoIXRoaXMuaXNBY3RpdmUpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGUudHlwZSA9PT0gRE9NU0NST0xMKSB7XHJcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gRE9XTiAmJiBlLm9yaWdpbmFsRXZlbnQuZGV0YWlsID4gMCB8fCBkaXJlY3Rpb24gPT09IFVQICYmIGUub3JpZ2luYWxFdmVudC5kZXRhaWwgPCAwKSB7XHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGUudHlwZSA9PT0gTU9VU0VXSEVFTCkge1xyXG4gICAgICAgIGlmICghZS5vcmlnaW5hbEV2ZW50IHx8ICFlLm9yaWdpbmFsRXZlbnQud2hlZWxEZWx0YSkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBET1dOICYmIGUub3JpZ2luYWxFdmVudC53aGVlbERlbHRhIDwgMCB8fCBkaXJlY3Rpb24gPT09IFVQICYmIGUub3JpZ2luYWxFdmVudC53aGVlbERlbHRhID4gMCkge1xyXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgIEVuYWJsZSBpT1MgbmF0aXZlIHNjcm9sbGluZ1xyXG4gICAgICBAbWV0aG9kIG5hdGl2ZVNjcm9sbGluZ1xyXG4gICAgICBAcHJpdmF0ZVxyXG4gICAgICovXHJcblxyXG4gICAgTmFub1Njcm9sbC5wcm90b3R5cGUubmF0aXZlU2Nyb2xsaW5nID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHRoaXMuJGNvbnRlbnQuY3NzKHtcclxuICAgICAgICBXZWJraXRPdmVyZmxvd1Njcm9sbGluZzogJ3RvdWNoJ1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5pT1NOYXRpdmVTY3JvbGxpbmcgPSB0cnVlO1xyXG4gICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICBVcGRhdGVzIHRob3NlIG5hbm9TY3JvbGxlciBwcm9wZXJ0aWVzIHRoYXRcclxuICAgICAgYXJlIHJlbGF0ZWQgdG8gY3VycmVudCBzY3JvbGxiYXIgcG9zaXRpb24uXHJcbiAgICAgIEBtZXRob2QgdXBkYXRlU2Nyb2xsVmFsdWVzXHJcbiAgICAgIEBwcml2YXRlXHJcbiAgICAgKi9cclxuXHJcbiAgICBOYW5vU2Nyb2xsLnByb3RvdHlwZS51cGRhdGVTY3JvbGxWYWx1ZXMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIGNvbnRlbnQsIGRpcmVjdGlvbjtcclxuICAgICAgY29udGVudCA9IHRoaXMuY29udGVudDtcclxuICAgICAgdGhpcy5tYXhTY3JvbGxUb3AgPSBjb250ZW50LnNjcm9sbEhlaWdodCAtIGNvbnRlbnQuY2xpZW50SGVpZ2h0O1xyXG4gICAgICB0aGlzLnByZXZTY3JvbGxUb3AgPSB0aGlzLmNvbnRlbnRTY3JvbGxUb3AgfHwgMDtcclxuICAgICAgdGhpcy5jb250ZW50U2Nyb2xsVG9wID0gY29udGVudC5zY3JvbGxUb3A7XHJcbiAgICAgIGRpcmVjdGlvbiA9IHRoaXMuY29udGVudFNjcm9sbFRvcCA+IHRoaXMucHJldmlvdXNQb3NpdGlvbiA/IFwiZG93blwiIDogdGhpcy5jb250ZW50U2Nyb2xsVG9wIDwgdGhpcy5wcmV2aW91c1Bvc2l0aW9uID8gXCJ1cFwiIDogXCJzYW1lXCI7XHJcbiAgICAgIHRoaXMucHJldmlvdXNQb3NpdGlvbiA9IHRoaXMuY29udGVudFNjcm9sbFRvcDtcclxuICAgICAgaWYgKGRpcmVjdGlvbiAhPT0gXCJzYW1lXCIpIHtcclxuICAgICAgICB0aGlzLiRlbC50cmlnZ2VyKCd1cGRhdGUnLCB7XHJcbiAgICAgICAgICBwb3NpdGlvbjogdGhpcy5jb250ZW50U2Nyb2xsVG9wLFxyXG4gICAgICAgICAgbWF4aW11bTogdGhpcy5tYXhTY3JvbGxUb3AsXHJcbiAgICAgICAgICBkaXJlY3Rpb246IGRpcmVjdGlvblxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICghdGhpcy5pT1NOYXRpdmVTY3JvbGxpbmcpIHtcclxuICAgICAgICB0aGlzLm1heFNsaWRlclRvcCA9IHRoaXMucGFuZUhlaWdodCAtIHRoaXMuc2xpZGVySGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuc2xpZGVyVG9wID0gdGhpcy5tYXhTY3JvbGxUb3AgPT09IDAgPyAwIDogdGhpcy5jb250ZW50U2Nyb2xsVG9wICogdGhpcy5tYXhTbGlkZXJUb3AgLyB0aGlzLm1heFNjcm9sbFRvcDtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgIFVwZGF0ZXMgQ1NTIHN0eWxlcyBmb3IgY3VycmVudCBzY3JvbGwgcG9zaXRpb24uXHJcbiAgICAgIFVzZXMgQ1NTIDJkIHRyYW5zZnJvbXMgYW5kIGB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lYCBpZiBhdmFpbGFibGUuXHJcbiAgICAgIEBtZXRob2Qgc2V0T25TY3JvbGxTdHlsZXNcclxuICAgICAgQHByaXZhdGVcclxuICAgICAqL1xyXG5cclxuICAgIE5hbm9TY3JvbGwucHJvdG90eXBlLnNldE9uU2Nyb2xsU3R5bGVzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBjc3NWYWx1ZTtcclxuICAgICAgaWYgKGhhc1RyYW5zZm9ybSkge1xyXG4gICAgICAgIGNzc1ZhbHVlID0ge307XHJcbiAgICAgICAgY3NzVmFsdWVbdHJhbnNmb3JtXSA9IFwidHJhbnNsYXRlKDAsIFwiICsgdGhpcy5zbGlkZXJUb3AgKyBcInB4KVwiO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNzc1ZhbHVlID0ge1xyXG4gICAgICAgICAgdG9wOiB0aGlzLnNsaWRlclRvcFxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHJBRikge1xyXG4gICAgICAgIGlmIChjQUYgJiYgdGhpcy5zY3JvbGxSQUYpIHtcclxuICAgICAgICAgIGNBRih0aGlzLnNjcm9sbFJBRik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2Nyb2xsUkFGID0gckFGKChmdW5jdGlvbihfdGhpcykge1xyXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zY3JvbGxSQUYgPSBudWxsO1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuc2xpZGVyLmNzcyhjc3NWYWx1ZSk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0pKHRoaXMpKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnNsaWRlci5jc3MoY3NzVmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAgQ3JlYXRlcyBldmVudCByZWxhdGVkIG1ldGhvZHNcclxuICAgICAgQG1ldGhvZCBjcmVhdGVFdmVudHNcclxuICAgICAgQHByaXZhdGVcclxuICAgICAqL1xyXG5cclxuICAgIE5hbm9TY3JvbGwucHJvdG90eXBlLmNyZWF0ZUV2ZW50cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICB0aGlzLmV2ZW50cyA9IHtcclxuICAgICAgICBkb3duOiAoZnVuY3Rpb24oX3RoaXMpIHtcclxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmlzQmVpbmdEcmFnZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgX3RoaXMub2Zmc2V0WSA9IGUucGFnZVkgLSBfdGhpcy5zbGlkZXIub2Zmc2V0KCkudG9wO1xyXG4gICAgICAgICAgICBpZiAoIV90aGlzLnNsaWRlci5pcyhlLnRhcmdldCkpIHtcclxuICAgICAgICAgICAgICBfdGhpcy5vZmZzZXRZID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5wYW5lLmFkZENsYXNzKF90aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MpO1xyXG4gICAgICAgICAgICBfdGhpcy5kb2MuYmluZChNT1VTRU1PVkUsIF90aGlzLmV2ZW50c1tEUkFHXSkuYmluZChNT1VTRVVQLCBfdGhpcy5ldmVudHNbVVBdKTtcclxuICAgICAgICAgICAgX3RoaXMuYm9keS5iaW5kKE1PVVNFRU5URVIsIF90aGlzLmV2ZW50c1tFTlRFUl0pO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0pKHRoaXMpLFxyXG4gICAgICAgIGRyYWc6IChmdW5jdGlvbihfdGhpcykge1xyXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2xpZGVyWSA9IGUucGFnZVkgLSBfdGhpcy4kZWwub2Zmc2V0KCkudG9wIC0gX3RoaXMucGFuZVRvcCAtIChfdGhpcy5vZmZzZXRZIHx8IF90aGlzLnNsaWRlckhlaWdodCAqIDAuNSk7XHJcbiAgICAgICAgICAgIF90aGlzLnNjcm9sbCgpO1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMuY29udGVudFNjcm9sbFRvcCA+PSBfdGhpcy5tYXhTY3JvbGxUb3AgJiYgX3RoaXMucHJldlNjcm9sbFRvcCAhPT0gX3RoaXMubWF4U2Nyb2xsVG9wKSB7XHJcbiAgICAgICAgICAgICAgX3RoaXMuJGVsLnRyaWdnZXIoJ3Njcm9sbGVuZCcpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzLmNvbnRlbnRTY3JvbGxUb3AgPT09IDAgJiYgX3RoaXMucHJldlNjcm9sbFRvcCAhPT0gMCkge1xyXG4gICAgICAgICAgICAgIF90aGlzLiRlbC50cmlnZ2VyKCdzY3JvbGx0b3AnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0pKHRoaXMpLFxyXG4gICAgICAgIHVwOiAoZnVuY3Rpb24oX3RoaXMpIHtcclxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmlzQmVpbmdEcmFnZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIF90aGlzLnBhbmUucmVtb3ZlQ2xhc3MoX3RoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyk7XHJcbiAgICAgICAgICAgIF90aGlzLmRvYy51bmJpbmQoTU9VU0VNT1ZFLCBfdGhpcy5ldmVudHNbRFJBR10pLnVuYmluZChNT1VTRVVQLCBfdGhpcy5ldmVudHNbVVBdKTtcclxuICAgICAgICAgICAgX3RoaXMuYm9keS51bmJpbmQoTU9VU0VFTlRFUiwgX3RoaXMuZXZlbnRzW0VOVEVSXSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSkodGhpcyksXHJcbiAgICAgICAgcmVzaXplOiAoZnVuY3Rpb24oX3RoaXMpIHtcclxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnJlc2V0KCk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0pKHRoaXMpLFxyXG4gICAgICAgIHBhbmVkb3duOiAoZnVuY3Rpb24oX3RoaXMpIHtcclxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNsaWRlclkgPSAoZS5vZmZzZXRZIHx8IGUub3JpZ2luYWxFdmVudC5sYXllclkpIC0gKF90aGlzLnNsaWRlckhlaWdodCAqIDAuNSk7XHJcbiAgICAgICAgICAgIF90aGlzLnNjcm9sbCgpO1xyXG4gICAgICAgICAgICBfdGhpcy5ldmVudHMuZG93bihlKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9KSh0aGlzKSxcclxuICAgICAgICBzY3JvbGw6IChmdW5jdGlvbihfdGhpcykge1xyXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgX3RoaXMudXBkYXRlU2Nyb2xsVmFsdWVzKCk7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5pc0JlaW5nRHJhZ2dlZCkge1xyXG4gICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIV90aGlzLmlPU05hdGl2ZVNjcm9sbGluZykge1xyXG4gICAgICAgICAgICAgIF90aGlzLnNsaWRlclkgPSBfdGhpcy5zbGlkZXJUb3A7XHJcbiAgICAgICAgICAgICAgX3RoaXMuc2V0T25TY3JvbGxTdHlsZXMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5jb250ZW50U2Nyb2xsVG9wID49IF90aGlzLm1heFNjcm9sbFRvcCkge1xyXG4gICAgICAgICAgICAgIGlmIChfdGhpcy5vcHRpb25zLnByZXZlbnRQYWdlU2Nyb2xsaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5wcmV2ZW50U2Nyb2xsaW5nKGUsIERPV04pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZiAoX3RoaXMucHJldlNjcm9sbFRvcCAhPT0gX3RoaXMubWF4U2Nyb2xsVG9wKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy4kZWwudHJpZ2dlcignc2Nyb2xsZW5kJyk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzLmNvbnRlbnRTY3JvbGxUb3AgPT09IDApIHtcclxuICAgICAgICAgICAgICBpZiAoX3RoaXMub3B0aW9ucy5wcmV2ZW50UGFnZVNjcm9sbGluZykge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucHJldmVudFNjcm9sbGluZyhlLCBVUCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGlmIChfdGhpcy5wcmV2U2Nyb2xsVG9wICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy4kZWwudHJpZ2dlcignc2Nyb2xsdG9wJyk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0pKHRoaXMpLFxyXG4gICAgICAgIHdoZWVsOiAoZnVuY3Rpb24oX3RoaXMpIHtcclxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIHZhciBkZWx0YTtcclxuICAgICAgICAgICAgaWYgKGUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZWx0YSA9IGUuZGVsdGEgfHwgZS53aGVlbERlbHRhIHx8IChlLm9yaWdpbmFsRXZlbnQgJiYgZS5vcmlnaW5hbEV2ZW50LndoZWVsRGVsdGEpIHx8IC1lLmRldGFpbCB8fCAoZS5vcmlnaW5hbEV2ZW50ICYmIC1lLm9yaWdpbmFsRXZlbnQuZGV0YWlsKTtcclxuICAgICAgICAgICAgaWYgKGRlbHRhKSB7XHJcbiAgICAgICAgICAgICAgX3RoaXMuc2xpZGVyWSArPSAtZGVsdGEgLyAzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLnNjcm9sbCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0pKHRoaXMpLFxyXG4gICAgICAgIGVudGVyOiAoZnVuY3Rpb24oX3RoaXMpIHtcclxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIHZhciBfcmVmO1xyXG4gICAgICAgICAgICBpZiAoIV90aGlzLmlzQmVpbmdEcmFnZ2VkKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgoZS5idXR0b25zIHx8IGUud2hpY2gpICE9PSAxKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIChfcmVmID0gX3RoaXMuZXZlbnRzKVtVUF0uYXBwbHkoX3JlZiwgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9KSh0aGlzKVxyXG4gICAgICB9O1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgIEFkZHMgZXZlbnQgbGlzdGVuZXJzIHdpdGggalF1ZXJ5LlxyXG4gICAgICBAbWV0aG9kIGFkZEV2ZW50c1xyXG4gICAgICBAcHJpdmF0ZVxyXG4gICAgICovXHJcblxyXG4gICAgTmFub1Njcm9sbC5wcm90b3R5cGUuYWRkRXZlbnRzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBldmVudHM7XHJcbiAgICAgIHRoaXMucmVtb3ZlRXZlbnRzKCk7XHJcbiAgICAgIGV2ZW50cyA9IHRoaXMuZXZlbnRzO1xyXG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy5kaXNhYmxlUmVzaXplKSB7XHJcbiAgICAgICAgdGhpcy53aW4uYmluZChSRVNJWkUsIGV2ZW50c1tSRVNJWkVdKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIXRoaXMuaU9TTmF0aXZlU2Nyb2xsaW5nKSB7XHJcbiAgICAgICAgdGhpcy5zbGlkZXIuYmluZChNT1VTRURPV04sIGV2ZW50c1tET1dOXSk7XHJcbiAgICAgICAgdGhpcy5wYW5lLmJpbmQoTU9VU0VET1dOLCBldmVudHNbUEFORURPV05dKS5iaW5kKFwiXCIgKyBNT1VTRVdIRUVMICsgXCIgXCIgKyBET01TQ1JPTEwsIGV2ZW50c1tXSEVFTF0pO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuJGNvbnRlbnQuYmluZChcIlwiICsgU0NST0xMICsgXCIgXCIgKyBNT1VTRVdIRUVMICsgXCIgXCIgKyBET01TQ1JPTEwgKyBcIiBcIiArIFRPVUNITU9WRSwgZXZlbnRzW1NDUk9MTF0pO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgIFJlbW92ZXMgZXZlbnQgbGlzdGVuZXJzIHdpdGggalF1ZXJ5LlxyXG4gICAgICBAbWV0aG9kIHJlbW92ZUV2ZW50c1xyXG4gICAgICBAcHJpdmF0ZVxyXG4gICAgICovXHJcblxyXG4gICAgTmFub1Njcm9sbC5wcm90b3R5cGUucmVtb3ZlRXZlbnRzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBldmVudHM7XHJcbiAgICAgIGV2ZW50cyA9IHRoaXMuZXZlbnRzO1xyXG4gICAgICB0aGlzLndpbi51bmJpbmQoUkVTSVpFLCBldmVudHNbUkVTSVpFXSk7XHJcbiAgICAgIGlmICghdGhpcy5pT1NOYXRpdmVTY3JvbGxpbmcpIHtcclxuICAgICAgICB0aGlzLnNsaWRlci51bmJpbmQoKTtcclxuICAgICAgICB0aGlzLnBhbmUudW5iaW5kKCk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy4kY29udGVudC51bmJpbmQoXCJcIiArIFNDUk9MTCArIFwiIFwiICsgTU9VU0VXSEVFTCArIFwiIFwiICsgRE9NU0NST0xMICsgXCIgXCIgKyBUT1VDSE1PVkUsIGV2ZW50c1tTQ1JPTExdKTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICBHZW5lcmF0ZXMgbmFub1Njcm9sbGVyJ3Mgc2Nyb2xsYmFyIGFuZCBlbGVtZW50cyBmb3IgaXQuXHJcbiAgICAgIEBtZXRob2QgZ2VuZXJhdGVcclxuICAgICAgQGNoYWluYWJsZVxyXG4gICAgICBAcHJpdmF0ZVxyXG4gICAgICovXHJcblxyXG4gICAgTmFub1Njcm9sbC5wcm90b3R5cGUuZ2VuZXJhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIGNvbnRlbnRDbGFzcywgY3NzUnVsZSwgY3VycmVudFBhZGRpbmcsIG9wdGlvbnMsIHBhbmUsIHBhbmVDbGFzcywgc2xpZGVyQ2xhc3M7XHJcbiAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XHJcbiAgICAgIHBhbmVDbGFzcyA9IG9wdGlvbnMucGFuZUNsYXNzLCBzbGlkZXJDbGFzcyA9IG9wdGlvbnMuc2xpZGVyQ2xhc3MsIGNvbnRlbnRDbGFzcyA9IG9wdGlvbnMuY29udGVudENsYXNzO1xyXG4gICAgICBpZiAoIShwYW5lID0gdGhpcy4kZWwuY2hpbGRyZW4oXCIuXCIgKyBwYW5lQ2xhc3MpKS5sZW5ndGggJiYgIXBhbmUuY2hpbGRyZW4oXCIuXCIgKyBzbGlkZXJDbGFzcykubGVuZ3RoKSB7XHJcbiAgICAgICAgdGhpcy4kZWwuYXBwZW5kKFwiPGRpdiBjbGFzcz1cXFwiXCIgKyBwYW5lQ2xhc3MgKyBcIlxcXCI+PGRpdiBjbGFzcz1cXFwiXCIgKyBzbGlkZXJDbGFzcyArIFwiXFxcIiAvPjwvZGl2PlwiKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnBhbmUgPSB0aGlzLiRlbC5jaGlsZHJlbihcIi5cIiArIHBhbmVDbGFzcyk7XHJcbiAgICAgIHRoaXMuc2xpZGVyID0gdGhpcy5wYW5lLmZpbmQoXCIuXCIgKyBzbGlkZXJDbGFzcyk7XHJcbiAgICAgIGlmIChCUk9XU0VSX1NDUk9MTEJBUl9XSURUSCA9PT0gMCAmJiBpc0ZGV2l0aEJ1Z2d5U2Nyb2xsYmFyKCkpIHtcclxuICAgICAgICBjdXJyZW50UGFkZGluZyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuY29udGVudCwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZSgncGFkZGluZy1yaWdodCcpLnJlcGxhY2UoL1teMC05Ll0rL2csICcnKTtcclxuICAgICAgICBjc3NSdWxlID0ge1xyXG4gICAgICAgICAgcmlnaHQ6IC0xNCxcclxuICAgICAgICAgIHBhZGRpbmdSaWdodDogK2N1cnJlbnRQYWRkaW5nICsgMTRcclxuICAgICAgICB9O1xyXG4gICAgICB9IGVsc2UgaWYgKEJST1dTRVJfU0NST0xMQkFSX1dJRFRIKSB7XHJcbiAgICAgICAgY3NzUnVsZSA9IHtcclxuICAgICAgICAgIHJpZ2h0OiAtQlJPV1NFUl9TQ1JPTExCQVJfV0lEVEhcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuJGVsLmFkZENsYXNzKG9wdGlvbnMuZW5hYmxlZENsYXNzKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoY3NzUnVsZSAhPSBudWxsKSB7XHJcbiAgICAgICAgdGhpcy4kY29udGVudC5jc3MoY3NzUnVsZSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAgQG1ldGhvZCByZXN0b3JlXHJcbiAgICAgIEBwcml2YXRlXHJcbiAgICAgKi9cclxuXHJcbiAgICBOYW5vU2Nyb2xsLnByb3RvdHlwZS5yZXN0b3JlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHRoaXMuc3RvcHBlZCA9IGZhbHNlO1xyXG4gICAgICBpZiAoIXRoaXMuaU9TTmF0aXZlU2Nyb2xsaW5nKSB7XHJcbiAgICAgICAgdGhpcy5wYW5lLnNob3coKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmFkZEV2ZW50cygpO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgIFJlc2V0cyBuYW5vU2Nyb2xsZXIncyBzY3JvbGxiYXIuXHJcbiAgICAgIEBtZXRob2QgcmVzZXRcclxuICAgICAgQGNoYWluYWJsZVxyXG4gICAgICBAZXhhbXBsZVxyXG4gICAgICAgICAgJChcIi5uYW5vXCIpLm5hbm9TY3JvbGxlcigpO1xyXG4gICAgICovXHJcblxyXG4gICAgTmFub1Njcm9sbC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIGNvbnRlbnQsIGNvbnRlbnRIZWlnaHQsIGNvbnRlbnRQb3NpdGlvbiwgY29udGVudFN0eWxlLCBjb250ZW50U3R5bGVPdmVyZmxvd1ksIHBhbmVCb3R0b20sIHBhbmVIZWlnaHQsIHBhbmVPdXRlckhlaWdodCwgcGFuZVRvcCwgcGFyZW50TWF4SGVpZ2h0LCByaWdodCwgc2xpZGVySGVpZ2h0O1xyXG4gICAgICBpZiAodGhpcy5pT1NOYXRpdmVTY3JvbGxpbmcpIHtcclxuICAgICAgICB0aGlzLmNvbnRlbnRIZWlnaHQgPSB0aGlzLmNvbnRlbnQuc2Nyb2xsSGVpZ2h0O1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIXRoaXMuJGVsLmZpbmQoXCIuXCIgKyB0aGlzLm9wdGlvbnMucGFuZUNsYXNzKS5sZW5ndGgpIHtcclxuICAgICAgICB0aGlzLmdlbmVyYXRlKCkuc3RvcCgpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLnN0b3BwZWQpIHtcclxuICAgICAgICB0aGlzLnJlc3RvcmUoKTtcclxuICAgICAgfVxyXG4gICAgICBjb250ZW50ID0gdGhpcy5jb250ZW50O1xyXG4gICAgICBjb250ZW50U3R5bGUgPSBjb250ZW50LnN0eWxlO1xyXG4gICAgICBjb250ZW50U3R5bGVPdmVyZmxvd1kgPSBjb250ZW50U3R5bGUub3ZlcmZsb3dZO1xyXG4gICAgICBpZiAoQlJPV1NFUl9JU19JRTcpIHtcclxuICAgICAgICB0aGlzLiRjb250ZW50LmNzcyh7XHJcbiAgICAgICAgICBoZWlnaHQ6IHRoaXMuJGNvbnRlbnQuaGVpZ2h0KClcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICBjb250ZW50SGVpZ2h0ID0gY29udGVudC5zY3JvbGxIZWlnaHQgKyBCUk9XU0VSX1NDUk9MTEJBUl9XSURUSDtcclxuICAgICAgcGFyZW50TWF4SGVpZ2h0ID0gcGFyc2VJbnQodGhpcy4kZWwuY3NzKFwibWF4LWhlaWdodFwiKSwgMTApO1xyXG4gICAgICBpZiAocGFyZW50TWF4SGVpZ2h0ID4gMCkge1xyXG4gICAgICAgIHRoaXMuJGVsLmhlaWdodChcIlwiKTtcclxuICAgICAgICB0aGlzLiRlbC5oZWlnaHQoY29udGVudC5zY3JvbGxIZWlnaHQgPiBwYXJlbnRNYXhIZWlnaHQgPyBwYXJlbnRNYXhIZWlnaHQgOiBjb250ZW50LnNjcm9sbEhlaWdodCk7XHJcbiAgICAgIH1cclxuICAgICAgcGFuZUhlaWdodCA9IHRoaXMucGFuZS5vdXRlckhlaWdodChmYWxzZSk7XHJcbiAgICAgIHBhbmVUb3AgPSBwYXJzZUludCh0aGlzLnBhbmUuY3NzKCd0b3AnKSwgMTApO1xyXG4gICAgICBwYW5lQm90dG9tID0gcGFyc2VJbnQodGhpcy5wYW5lLmNzcygnYm90dG9tJyksIDEwKTtcclxuICAgICAgcGFuZU91dGVySGVpZ2h0ID0gcGFuZUhlaWdodCArIHBhbmVUb3AgKyBwYW5lQm90dG9tO1xyXG4gICAgICBzbGlkZXJIZWlnaHQgPSBNYXRoLnJvdW5kKHBhbmVPdXRlckhlaWdodCAvIGNvbnRlbnRIZWlnaHQgKiBwYW5lSGVpZ2h0KTtcclxuICAgICAgaWYgKHNsaWRlckhlaWdodCA8IHRoaXMub3B0aW9ucy5zbGlkZXJNaW5IZWlnaHQpIHtcclxuICAgICAgICBzbGlkZXJIZWlnaHQgPSB0aGlzLm9wdGlvbnMuc2xpZGVyTWluSGVpZ2h0O1xyXG4gICAgICB9IGVsc2UgaWYgKCh0aGlzLm9wdGlvbnMuc2xpZGVyTWF4SGVpZ2h0ICE9IG51bGwpICYmIHNsaWRlckhlaWdodCA+IHRoaXMub3B0aW9ucy5zbGlkZXJNYXhIZWlnaHQpIHtcclxuICAgICAgICBzbGlkZXJIZWlnaHQgPSB0aGlzLm9wdGlvbnMuc2xpZGVyTWF4SGVpZ2h0O1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChjb250ZW50U3R5bGVPdmVyZmxvd1kgPT09IFNDUk9MTCAmJiBjb250ZW50U3R5bGUub3ZlcmZsb3dYICE9PSBTQ1JPTEwpIHtcclxuICAgICAgICBzbGlkZXJIZWlnaHQgKz0gQlJPV1NFUl9TQ1JPTExCQVJfV0lEVEg7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5tYXhTbGlkZXJUb3AgPSBwYW5lT3V0ZXJIZWlnaHQgLSBzbGlkZXJIZWlnaHQ7XHJcbiAgICAgIHRoaXMuY29udGVudEhlaWdodCA9IGNvbnRlbnRIZWlnaHQ7XHJcbiAgICAgIHRoaXMucGFuZUhlaWdodCA9IHBhbmVIZWlnaHQ7XHJcbiAgICAgIHRoaXMucGFuZU91dGVySGVpZ2h0ID0gcGFuZU91dGVySGVpZ2h0O1xyXG4gICAgICB0aGlzLnNsaWRlckhlaWdodCA9IHNsaWRlckhlaWdodDtcclxuICAgICAgdGhpcy5wYW5lVG9wID0gcGFuZVRvcDtcclxuICAgICAgdGhpcy5zbGlkZXIuaGVpZ2h0KHNsaWRlckhlaWdodCk7XHJcbiAgICAgIHRoaXMuZXZlbnRzLnNjcm9sbCgpO1xyXG4gICAgICB0aGlzLnBhbmUuc2hvdygpO1xyXG4gICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcclxuICAgICAgaWYgKChjb250ZW50LnNjcm9sbEhlaWdodCA9PT0gY29udGVudC5jbGllbnRIZWlnaHQpIHx8ICh0aGlzLnBhbmUub3V0ZXJIZWlnaHQodHJ1ZSkgPj0gY29udGVudC5zY3JvbGxIZWlnaHQgJiYgY29udGVudFN0eWxlT3ZlcmZsb3dZICE9PSBTQ1JPTEwpKSB7XHJcbiAgICAgICAgdGhpcy5wYW5lLmhpZGUoKTtcclxuICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5lbC5jbGllbnRIZWlnaHQgPT09IGNvbnRlbnQuc2Nyb2xsSGVpZ2h0ICYmIGNvbnRlbnRTdHlsZU92ZXJmbG93WSA9PT0gU0NST0xMKSB7XHJcbiAgICAgICAgdGhpcy5zbGlkZXIuaGlkZSgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuc2xpZGVyLnNob3coKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnBhbmUuY3NzKHtcclxuICAgICAgICBvcGFjaXR5OiAodGhpcy5vcHRpb25zLmFsd2F5c1Zpc2libGUgPyAxIDogJycpLFxyXG4gICAgICAgIHZpc2liaWxpdHk6ICh0aGlzLm9wdGlvbnMuYWx3YXlzVmlzaWJsZSA/ICd2aXNpYmxlJyA6ICcnKVxyXG4gICAgICB9KTtcclxuICAgICAgY29udGVudFBvc2l0aW9uID0gdGhpcy4kY29udGVudC5jc3MoJ3Bvc2l0aW9uJyk7XHJcbiAgICAgIGlmIChjb250ZW50UG9zaXRpb24gPT09ICdzdGF0aWMnIHx8IGNvbnRlbnRQb3NpdGlvbiA9PT0gJ3JlbGF0aXZlJykge1xyXG4gICAgICAgIHJpZ2h0ID0gcGFyc2VJbnQodGhpcy4kY29udGVudC5jc3MoJ3JpZ2h0JyksIDEwKTtcclxuICAgICAgICBpZiAocmlnaHQpIHtcclxuICAgICAgICAgIHRoaXMuJGNvbnRlbnQuY3NzKHtcclxuICAgICAgICAgICAgcmlnaHQ6ICcnLFxyXG4gICAgICAgICAgICBtYXJnaW5SaWdodDogcmlnaHRcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICBAbWV0aG9kIHNjcm9sbFxyXG4gICAgICBAcHJpdmF0ZVxyXG4gICAgICBAZXhhbXBsZVxyXG4gICAgICAgICAgJChcIi5uYW5vXCIpLm5hbm9TY3JvbGxlcih7IHNjcm9sbDogJ3RvcCcgfSk7XHJcbiAgICAgKi9cclxuXHJcbiAgICBOYW5vU2Nyb2xsLnByb3RvdHlwZS5zY3JvbGwgPSBmdW5jdGlvbigpIHtcclxuICAgICAgaWYgKCF0aGlzLmlzQWN0aXZlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuc2xpZGVyWSA9IE1hdGgubWF4KDAsIHRoaXMuc2xpZGVyWSk7XHJcbiAgICAgIHRoaXMuc2xpZGVyWSA9IE1hdGgubWluKHRoaXMubWF4U2xpZGVyVG9wLCB0aGlzLnNsaWRlclkpO1xyXG4gICAgICB0aGlzLiRjb250ZW50LnNjcm9sbFRvcCh0aGlzLm1heFNjcm9sbFRvcCAqIHRoaXMuc2xpZGVyWSAvIHRoaXMubWF4U2xpZGVyVG9wKTtcclxuICAgICAgaWYgKCF0aGlzLmlPU05hdGl2ZVNjcm9sbGluZykge1xyXG4gICAgICAgIHRoaXMudXBkYXRlU2Nyb2xsVmFsdWVzKCk7XHJcbiAgICAgICAgdGhpcy5zZXRPblNjcm9sbFN0eWxlcygpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgIFNjcm9sbCBhdCB0aGUgYm90dG9tIHdpdGggYW4gb2Zmc2V0IHZhbHVlXHJcbiAgICAgIEBtZXRob2Qgc2Nyb2xsQm90dG9tXHJcbiAgICAgIEBwYXJhbSBvZmZzZXRZIHtOdW1iZXJ9XHJcbiAgICAgIEBjaGFpbmFibGVcclxuICAgICAgQGV4YW1wbGVcclxuICAgICAgICAgICQoXCIubmFub1wiKS5uYW5vU2Nyb2xsZXIoeyBzY3JvbGxCb3R0b206IHZhbHVlIH0pO1xyXG4gICAgICovXHJcblxyXG4gICAgTmFub1Njcm9sbC5wcm90b3R5cGUuc2Nyb2xsQm90dG9tID0gZnVuY3Rpb24ob2Zmc2V0WSkge1xyXG4gICAgICBpZiAoIXRoaXMuaXNBY3RpdmUpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy4kY29udGVudC5zY3JvbGxUb3AodGhpcy5jb250ZW50SGVpZ2h0IC0gdGhpcy4kY29udGVudC5oZWlnaHQoKSAtIG9mZnNldFkpLnRyaWdnZXIoTU9VU0VXSEVFTCk7XHJcbiAgICAgIHRoaXMuc3RvcCgpLnJlc3RvcmUoKTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAgU2Nyb2xsIGF0IHRoZSB0b3Agd2l0aCBhbiBvZmZzZXQgdmFsdWVcclxuICAgICAgQG1ldGhvZCBzY3JvbGxUb3BcclxuICAgICAgQHBhcmFtIG9mZnNldFkge051bWJlcn1cclxuICAgICAgQGNoYWluYWJsZVxyXG4gICAgICBAZXhhbXBsZVxyXG4gICAgICAgICAgJChcIi5uYW5vXCIpLm5hbm9TY3JvbGxlcih7IHNjcm9sbFRvcDogdmFsdWUgfSk7XHJcbiAgICAgKi9cclxuXHJcbiAgICBOYW5vU2Nyb2xsLnByb3RvdHlwZS5zY3JvbGxUb3AgPSBmdW5jdGlvbihvZmZzZXRZKSB7XHJcbiAgICAgIGlmICghdGhpcy5pc0FjdGl2ZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLiRjb250ZW50LnNjcm9sbFRvcCgrb2Zmc2V0WSkudHJpZ2dlcihNT1VTRVdIRUVMKTtcclxuICAgICAgdGhpcy5zdG9wKCkucmVzdG9yZSgpO1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICBTY3JvbGwgdG8gYW4gZWxlbWVudFxyXG4gICAgICBAbWV0aG9kIHNjcm9sbFRvXHJcbiAgICAgIEBwYXJhbSBub2RlIHtOb2RlfSBBIG5vZGUgdG8gc2Nyb2xsIHRvLlxyXG4gICAgICBAY2hhaW5hYmxlXHJcbiAgICAgIEBleGFtcGxlXHJcbiAgICAgICAgICAkKFwiLm5hbm9cIikubmFub1Njcm9sbGVyKHsgc2Nyb2xsVG86ICQoJyNhX25vZGUnKSB9KTtcclxuICAgICAqL1xyXG5cclxuICAgIE5hbm9TY3JvbGwucHJvdG90eXBlLnNjcm9sbFRvID0gZnVuY3Rpb24obm9kZSkge1xyXG4gICAgICBpZiAoIXRoaXMuaXNBY3RpdmUpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5zY3JvbGxUb3AodGhpcy4kZWwuZmluZChub2RlKS5nZXQoMCkub2Zmc2V0VG9wKTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAgVG8gc3RvcCB0aGUgb3BlcmF0aW9uLlxyXG4gICAgICBUaGlzIG9wdGlvbiB3aWxsIHRlbGwgdGhlIHBsdWdpbiB0byBkaXNhYmxlIGFsbCBldmVudCBiaW5kaW5ncyBhbmQgaGlkZSB0aGUgZ2FkZ2V0IHNjcm9sbGJhciBmcm9tIHRoZSBVSS5cclxuICAgICAgQG1ldGhvZCBzdG9wXHJcbiAgICAgIEBjaGFpbmFibGVcclxuICAgICAgQGV4YW1wbGVcclxuICAgICAgICAgICQoXCIubmFub1wiKS5uYW5vU2Nyb2xsZXIoeyBzdG9wOiB0cnVlIH0pO1xyXG4gICAgICovXHJcblxyXG4gICAgTmFub1Njcm9sbC5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICBpZiAoY0FGICYmIHRoaXMuc2Nyb2xsUkFGKSB7XHJcbiAgICAgICAgY0FGKHRoaXMuc2Nyb2xsUkFGKTtcclxuICAgICAgICB0aGlzLnNjcm9sbFJBRiA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5zdG9wcGVkID0gdHJ1ZTtcclxuICAgICAgdGhpcy5yZW1vdmVFdmVudHMoKTtcclxuICAgICAgaWYgKCF0aGlzLmlPU05hdGl2ZVNjcm9sbGluZykge1xyXG4gICAgICAgIHRoaXMucGFuZS5oaWRlKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAgRGVzdHJveXMgbmFub1Njcm9sbGVyIGFuZCByZXN0b3JlcyBicm93c2VyJ3MgbmF0aXZlIHNjcm9sbGJhci5cclxuICAgICAgQG1ldGhvZCBkZXN0cm95XHJcbiAgICAgIEBjaGFpbmFibGVcclxuICAgICAgQGV4YW1wbGVcclxuICAgICAgICAgICQoXCIubmFub1wiKS5uYW5vU2Nyb2xsZXIoeyBkZXN0cm95OiB0cnVlIH0pO1xyXG4gICAgICovXHJcblxyXG4gICAgTmFub1Njcm9sbC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICBpZiAoIXRoaXMuc3RvcHBlZCkge1xyXG4gICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICghdGhpcy5pT1NOYXRpdmVTY3JvbGxpbmcgJiYgdGhpcy5wYW5lLmxlbmd0aCkge1xyXG4gICAgICAgIHRoaXMucGFuZS5yZW1vdmUoKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoQlJPV1NFUl9JU19JRTcpIHtcclxuICAgICAgICB0aGlzLiRjb250ZW50LmhlaWdodCgnJyk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy4kY29udGVudC5yZW1vdmVBdHRyKCd0YWJpbmRleCcpO1xyXG4gICAgICBpZiAodGhpcy4kZWwuaGFzQ2xhc3ModGhpcy5vcHRpb25zLmVuYWJsZWRDbGFzcykpIHtcclxuICAgICAgICB0aGlzLiRlbC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuZW5hYmxlZENsYXNzKTtcclxuICAgICAgICB0aGlzLiRjb250ZW50LmNzcyh7XHJcbiAgICAgICAgICByaWdodDogJydcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICBUbyBmbGFzaCB0aGUgc2Nyb2xsYmFyIGdhZGdldCBmb3IgYW4gYW1vdW50IG9mIHRpbWUgZGVmaW5lZCBpbiBwbHVnaW4gc2V0dGluZ3MgKGRlZmF1bHRzIHRvIDEsNXMpLlxyXG4gICAgICBVc2VmdWwgaWYgeW91IHdhbnQgdG8gc2hvdyB0aGUgdXNlciAoZS5nLiBvbiBwYWdlbG9hZCkgdGhhdCB0aGVyZSBpcyBtb3JlIGNvbnRlbnQgd2FpdGluZyBmb3IgaGltLlxyXG4gICAgICBAbWV0aG9kIGZsYXNoXHJcbiAgICAgIEBjaGFpbmFibGVcclxuICAgICAgQGV4YW1wbGVcclxuICAgICAgICAgICQoXCIubmFub1wiKS5uYW5vU2Nyb2xsZXIoeyBmbGFzaDogdHJ1ZSB9KTtcclxuICAgICAqL1xyXG5cclxuICAgIE5hbm9TY3JvbGwucHJvdG90eXBlLmZsYXNoID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmICh0aGlzLmlPU05hdGl2ZVNjcm9sbGluZykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIXRoaXMuaXNBY3RpdmUpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5yZXNldCgpO1xyXG4gICAgICB0aGlzLnBhbmUuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmZsYXNoZWRDbGFzcyk7XHJcbiAgICAgIHNldFRpbWVvdXQoKGZ1bmN0aW9uKF90aGlzKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgX3RoaXMucGFuZS5yZW1vdmVDbGFzcyhfdGhpcy5vcHRpb25zLmZsYXNoZWRDbGFzcyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgfSkodGhpcyksIHRoaXMub3B0aW9ucy5mbGFzaERlbGF5KTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBOYW5vU2Nyb2xsO1xyXG5cclxuICB9KSgpO1xyXG4gICQuZm4ubmFub1Njcm9sbGVyID0gZnVuY3Rpb24oc2V0dGluZ3MpIHtcclxuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBvcHRpb25zLCBzY3JvbGxiYXI7XHJcbiAgICAgIGlmICghKHNjcm9sbGJhciA9IHRoaXMubmFub3Njcm9sbGVyKSkge1xyXG4gICAgICAgIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIHNldHRpbmdzKTtcclxuICAgICAgICB0aGlzLm5hbm9zY3JvbGxlciA9IHNjcm9sbGJhciA9IG5ldyBOYW5vU2Nyb2xsKHRoaXMsIG9wdGlvbnMpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChzZXR0aW5ncyAmJiB0eXBlb2Ygc2V0dGluZ3MgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAkLmV4dGVuZChzY3JvbGxiYXIub3B0aW9ucywgc2V0dGluZ3MpO1xyXG4gICAgICAgIGlmIChzZXR0aW5ncy5zY3JvbGxCb3R0b20gIT0gbnVsbCkge1xyXG4gICAgICAgICAgcmV0dXJuIHNjcm9sbGJhci5zY3JvbGxCb3R0b20oc2V0dGluZ3Muc2Nyb2xsQm90dG9tKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNldHRpbmdzLnNjcm9sbFRvcCAhPSBudWxsKSB7XHJcbiAgICAgICAgICByZXR1cm4gc2Nyb2xsYmFyLnNjcm9sbFRvcChzZXR0aW5ncy5zY3JvbGxUb3ApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2V0dGluZ3Muc2Nyb2xsVG8pIHtcclxuICAgICAgICAgIHJldHVybiBzY3JvbGxiYXIuc2Nyb2xsVG8oc2V0dGluZ3Muc2Nyb2xsVG8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2V0dGluZ3Muc2Nyb2xsID09PSAnYm90dG9tJykge1xyXG4gICAgICAgICAgcmV0dXJuIHNjcm9sbGJhci5zY3JvbGxCb3R0b20oMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzZXR0aW5ncy5zY3JvbGwgPT09ICd0b3AnKSB7XHJcbiAgICAgICAgICByZXR1cm4gc2Nyb2xsYmFyLnNjcm9sbFRvcCgwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNldHRpbmdzLnNjcm9sbCAmJiBzZXR0aW5ncy5zY3JvbGwgaW5zdGFuY2VvZiAkKSB7XHJcbiAgICAgICAgICByZXR1cm4gc2Nyb2xsYmFyLnNjcm9sbFRvKHNldHRpbmdzLnNjcm9sbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzZXR0aW5ncy5zdG9wKSB7XHJcbiAgICAgICAgICByZXR1cm4gc2Nyb2xsYmFyLnN0b3AoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNldHRpbmdzLmRlc3Ryb3kpIHtcclxuICAgICAgICAgIHJldHVybiBzY3JvbGxiYXIuZGVzdHJveSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2V0dGluZ3MuZmxhc2gpIHtcclxuICAgICAgICAgIHJldHVybiBzY3JvbGxiYXIuZmxhc2goKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHNjcm9sbGJhci5yZXNldCgpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuICAkLmZuLm5hbm9TY3JvbGxlci5Db25zdHJ1Y3RvciA9IE5hbm9TY3JvbGw7XHJcbn0pO1xyXG5cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9anF1ZXJ5Lm5hbm9zY3JvbGxlci5qcy5tYXBcclxuIl19
